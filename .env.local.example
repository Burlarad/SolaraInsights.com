# ==============================================================================
# SOLARA INSIGHTS - LOCAL DEVELOPMENT ENVIRONMENT
# ==============================================================================
# This file is for LOCAL DEVELOPMENT with local Supabase.
#
# SETUP:
# 1. Copy this file to .env.local
# 2. Start local Supabase: npm run supabase:local:start
# 3. Run: npm run supabase:local:status
# 4. Copy the values from the output into this file
#
# The `supabase status` command outputs something like:
#   API URL: http://127.0.0.1:54321
#   anon key: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
#   service_role key: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
#   DB URL: postgresql://postgres:postgres@127.0.0.1:54322/postgres
#
# ==============================================================================

# ==============================================================================
# SUPABASE LOCAL CONFIGURATION
# ==============================================================================
# Copy values from `supabase status` output

# API URL (always this for local)
NEXT_PUBLIC_SUPABASE_URL=http://127.0.0.1:54321

# Anon Key (from supabase status - safe for client-side)
NEXT_PUBLIC_SUPABASE_ANON_KEY=<LOCAL_ANON_KEY_FROM_SUPABASE_STATUS>

# Service Role Key (from supabase status - ADMIN ACCESS, server-side only!)
SUPABASE_SERVICE_ROLE_KEY=<LOCAL_SERVICE_ROLE_KEY_FROM_SUPABASE_STATUS>

# DB URL (optional - for server-side scripts only, NOT for runtime app code)
# SUPABASE_DB_URL=postgresql://postgres:postgres@127.0.0.1:54322/postgres

# ==============================================================================
# APPLICATION URLS (LOCAL)
# ==============================================================================
NEXT_PUBLIC_SITE_URL=http://localhost:3000
NEXT_PUBLIC_APP_URL=http://localhost:3000
APP_URL=http://localhost:3000

# ==============================================================================
# OPENAI (REQUIRED FOR AI FEATURES)
# ==============================================================================
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=<YOUR_OPENAI_API_KEY>

# Model Configuration (use cheaper models for local dev)
OPENAI_DAILY_INSIGHTS_MODEL=gpt-4.1-mini
OPENAI_HOROSCOPE_MODEL=gpt-4.1-mini
OPENAI_CONNECTION_BRIEF_MODEL=gpt-4.1-mini
OPENAI_YEARLY_INSIGHTS_MODEL=gpt-4o
OPENAI_BIRTHCHART_MODEL=gpt-4o
OPENAI_INSIGHTS_MODEL=gpt-4o
OPENAI_PLACEMENTS_MODEL=gpt-4o
OPENAI_DEEP_MODEL=gpt-4o
OPENAI_FAST_MODEL=gpt-4o-mini

# ==============================================================================
# STRIPE (TEST MODE)
# ==============================================================================
# Use Stripe TEST keys for local development
# Get from: Stripe Dashboard > Developers > API keys (toggle Test mode)
STRIPE_SECRET_KEY=sk_test_<YOUR_TEST_SECRET_KEY>
STRIPE_WEBHOOK_SECRET=whsec_<YOUR_LOCAL_WEBHOOK_SECRET>
STRIPE_PRICE_ID=price_<YOUR_TEST_PRICE_ID>
STRIPE_FAMILY_PRICE_ID=price_<YOUR_TEST_FAMILY_PRICE_ID>
STRIPE_PRICING_TABLE_ID=prctbl_<YOUR_TEST_PRICING_TABLE_ID>
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_<YOUR_TEST_PUBLISHABLE_KEY>
NEXT_PUBLIC_STRIPE_PRICING_TABLE_ID=prctbl_<YOUR_TEST_PRICING_TABLE_ID>

# ==============================================================================
# EMAIL (RESEND) - OPTIONAL FOR LOCAL
# ==============================================================================
RESEND_API_KEY=<YOUR_RESEND_API_KEY>
RESEND_FROM="Solara Local <noreply@yourdomain.com>"

# ==============================================================================
# REDIS/VALKEY - OPTIONAL FOR LOCAL
# ==============================================================================
# Leave empty to disable caching/rate limiting locally
REDIS_URL=

# ==============================================================================
# SOCIAL OAUTH - OPTIONAL FOR LOCAL
# ==============================================================================
# Only configure if testing social features locally
# Callback URLs must be registered with providers pointing to localhost:3000

META_APP_ID=<YOUR_META_APP_ID>
META_APP_SECRET=<YOUR_META_APP_SECRET>

TIKTOK_CLIENT_KEY=<YOUR_TIKTOK_CLIENT_KEY>
TIKTOK_CLIENT_SECRET=<YOUR_TIKTOK_CLIENT_SECRET>

X_CLIENT_ID=<YOUR_X_CLIENT_ID>
X_CLIENT_SECRET=<YOUR_X_CLIENT_SECRET>
X_OAUTH_ENABLED=false
NEXT_PUBLIC_X_OAUTH_ENABLED=false

REDDIT_CLIENT_ID=
REDDIT_CLIENT_SECRET=

# Token encryption (generate: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))")
SOCIAL_TOKEN_ENCRYPTION_KEY=<YOUR_BASE64_32_BYTE_KEY>

# ==============================================================================
# SECURITY
# ==============================================================================
AUTH_SECRET=<YOUR_AUTH_SECRET>
CRON_SECRET=<YOUR_CRON_SECRET>

# ==============================================================================
# DEBUG & DEVELOPMENT
# ==============================================================================
NODE_ENV=development
NEXT_PUBLIC_SOLARA_DEBUG=1
DEV_PAYWALL_BYPASS=true
OAUTH_DEBUG_LOGS=true
